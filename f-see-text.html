<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>webcam-js</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
        <link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/opendyslexic" type="text/css"/>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <link rel="stylesheet" type="text/css" media="screen" href="style/webcam-demo.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="lib/webcam-easy.js"></script>
        <script src="https://kit.fontawesome.com/692060e681.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="style/shoelace.css" />
        <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png" />
        <link rel="manifest" href="manifest.json" />
    </head>
    <body>

        <a href="index-landing.html" style="color: #000000;">
            <p style="text-align: left; font-size: 20px; color:  white; padding: 10px; position: fixed; z-index: 9999999; "><i class="fas fa-arrow-left"></i></p>
        </a>

        <main id="webcam-app">

            <div class="container" style="display: none" id="text-container" >
                <br>
                <a href="#" id="hide-container" style="color: #000000;">
                    <p style="text-align: right; font-size: 20px;"><i class="fas fa-times"></i></p>
                </a>
                <p style="text-align: center; font-size: 20px;" id="detectedTextAlert"></p>
                <textarea id="detectedText" style="resize: none;" rows="10" readonly="readonly"></textarea>
                <center>
                    <div id="translate-dyslexic-div">
                        <label style="margin-top: 2em;"><b>Translate to</b></label>
                        <select id="translateTextTo" style="width: 100%;">
                            <option selected>Select a language</option>
                            <option value="af">Afrikaans</option>
                            <option value="sq">Albanian</option>
                            <option value="am">Amharic</option>
                            <option value="ar">Arabic</option>
                            <option value="hy">Armenian</option>
                            <option value="az">Azerbaijani</option>
                            <option value="bn">Bengali</option>
                            <option value="bs">Bosnian</option>
                            <option value="bg">Bulgarian</option>
                            <option value="ca">Catalan</option>
                            <option value="zh">Chinese (Simplified)</option>
                            <option value="zh-TW">Chinese (Traditional)</option>
                            <option value="hr">Croatian</option>
                            <option value="cs">Czech</option>
                            <option value="da">Danish</option>
                            <option value="fa-AF">Dari</option>
                            <option value="nl">Dutch</option>
                            <option value="en">English</option>
                            <option value="et">Estonian</option>
                            <option value="fa">Farsi (Persian)</option>
                            <option value="tl">Filipino Tagalog</option>
                            <option value="fi">Finnish</option>
                            <option value="fr">French</option>
                            <option value="fr-CA">French (Canadian)</option>
                            <option value="ka">Georgian</option>
                            <option value="de">German</option>
                            <option value="el">Greek</option>
                            <option value="gu">Gujarati</option>
                            <option value="ht">Haitian Creole</option>
                            <option value="ha">Hausa</option>
                            <option value="he">Hebrew</option>
                            <option value="hi">Hindi</option>
                            <option value="hu">Hungarian</option>
                            <option value="is">Icelandic</option>
                            <option value="id">Indonesian</option>
                            <option value="it">Italian</option>
                            <option value="ja">Japanese</option>
                            <option value="kn">Kannada</option>
                            <option value="kk">Kazakh</option>
                            <option value="ko">Korean</option>
                            <option value="lv">Latvian</option>
                            <option value="lt">Lithuanian</option>
                            <option value="mk">Macedonian</option>
                            <option value="ms">Malay</option>
                            <option value="ml">Malayalam</option>
                            <option value="mt">Maltese</option>
                            <option value="mn">Mongolian</option>
                            <option value="no">Norwegian</option>
                            <option value="fa">Persian</option>
                            <option value="ps">Pashto</option>
                            <option value="pl">Polish</option>
                            <option value="pt">Portuguese</option>
                            <option value="ro">Romanian</option>
                            <option value="ru">Russian</option>
                            <option value="sr">Serbian</option>
                            <option value="si">Sinhala</option>
                            <option value="sk">Slovak</option>
                            <option value="sl">Slovenian</option>
                            <option value="so">Somali</option>
                            <option value="es">Spanish</option>
                            <option value="es-MX">Spanish (Mexico)</option>
                            <option value="sw">Swahili</option>
                            <option value="sv">Swedish</option>
                            <option value="tl">Tagalog</option>
                            <option value="ta">Tamil</option>
                            <option value="te">Telugu</option>
                            <option value="th">Thai</option>
                            <option value="tr">Turkish</option>
                            <option value="uk">Ukrainian</option>
                            <option value="ur">Urdu</option>
                            <option value="uz">Uzbek</option>
                            <option value="vi">Vietnamese</option>
                            <option value="cy">Welsh</option>
                        </select>
                        <br>
                        <button class="button-l" id="dyslexic-button">Make more readable (OpenDyslexic font)</button>
                        <br><br>
                        <button id="btn-decrease">A-</button>
                        <button id="btn-orig">A</button>
                        <button id="btn-increase">A+</button>
                        <br><br>
                        <div id="textToSynth" style="text-align: center;">
                            <audio id="audioPlayback" controls autoplay>
                                <source id="audioSource" type="audio/mp3" src="" />
                            </audio>
                        </div>
                    </div>
                <center>
                <br>
            </div>

            <div class="controlActions">
                <div class="controlButtons">
                    <a href="#" style="display: none" id="show-text" title="Show detected text"><i class="fas fa-align-left"></i></a>
                </div>
            </div>

            <div style="text-align: center;" id="errorMsg" class="col-12 col-md-6 alert-danger d-none">
                Failed to start camera, please allow permision to access camera. <br /><br />
                <button onClick="window.location.reload();" class="btn btn-primary ml-3">Retry</button>
            </div>
            
            <div class="md-modal md-effect-12">
                <div id="app-panel" class="app-panel md-content row p-0 m-0">
                    <div id="webcam-container" class="webcam-container col-12 d-none p-0 m-0">
                        <video id="webcam" autoplay playsinline width="640" height="480"></video>
                        <canvas id="canvas" class="d-none"></canvas>
                        <div class="flash"></div>
                        <audio id="snapSound" src="audio/beep.wav" preload="auto"></audio>
                    </div>

                    <div style="color: white; font-size: 16px; position: fixed; padding: 10px; z-index: 999999; background-color: black; opacity: 0.4;">
                        <div style="margin-left: 30px; font-weight: bold;">
                            Take a picture of a label or small chunk of text: the app will read it out loud for you. Don't forget to turn up the volume!
                        </div>
                    </div>

                    <div id="cameraControls" class="cameraControls">
                        <a href="#" id="take-photo" title="Take Photo"><i class="material-icons">camera_alt</i></a>

                        <button id="cameraFlip" title="Camera flip" class="button-xl" title="Switch languages"><i style="font-size: 30px;" class="fas fa-retweet"></i> <i style="font-size: 15px;" class="fas fa-camera"></i></button>
                    </div>
                </div>
            </div>
            <div class="md-overlay"></div>
        </main>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="lib/aws-sdk-2.1030.0.min.js"></script>
        <script src="lib/aws-amplify.min.js"></script>
        <script src="config.js"></script>
        <script src="dist/main.js"></script>
    </body>
</html>
